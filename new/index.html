<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Bingo!</title>
</head>

<body>
  <div class="app">
    <div class="board">
      <div class="board-header">
        <img class="board-logo" src="logo.png">
        <div class="board-notif">
          <div class="board-notif-title">Mission</div>
          <div class="board-notif-body">
            <div class="board-notif-number">25</div>
            <div class="board-notif-content">You've done something</div>
          </div>
        </div>
        <div class="board-notif-badge"></div>
      </div>
      <div class="board-game">
        <div class="bingo-list">
          <div class="bingo-item" data-number="1">
            <div class="bingo-item-inner">1</div>
          </div>
          <div class="bingo-item" data-number="2">
            <div class="bingo-item-inner">2</div>
          </div>
          <div class="bingo-item" data-number="3">
            <div class="bingo-item-inner">3</div>
          </div>
          <div class="bingo-item" data-number="4">
            <div class="bingo-item-inner">4</div>
          </div>
          <div class="bingo-item" data-number="5">
            <div class="bingo-item-inner">5</div>
          </div>
          <div class="bingo-item" data-number="6">
            <div class="bingo-item-inner">6</div>
          </div>
          <div class="bingo-item" data-number="7">
            <div class="bingo-item-inner">7</div>
          </div>
          <div class="bingo-item" data-number="8">
            <div class="bingo-item-inner">8</div>
          </div>
          <div class="bingo-item" data-number="9">
            <div class="bingo-item-inner">9</div>
          </div>
        </div>
      </div>
      <div class="bingo-bg"></div>
      <div class="bingo">
        <div class="bingo-text"></div>
        <div class="bingo-badge">
          <div class="bingo-icon"></div>
          <div class="bingo-number"></div>
        </div>
        <div class="bingo-footer">
          <div class="bingo-description">Lorem ipsum dolor sit amet, consectetur adipis</div>
          <div class="bingo-button" onclick="hideBingo()">OK</div>
        </div>
        <ul class="bingo-starburst">
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>

        <div class="svg">
          <svg id="starburst" viewBox="467 392 58 57" xmlns="http://www.w3.org/2000/svg">
            <g id="Group" fill="none" fill-rule="evenodd" transform="translate(467 392)">
              <g id="grp7" opacity="0" transform="translate(7 6)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>

              <g id="grp6" opacity="0" transform="translate(0 28)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>

              <g id="grp3" opacity="0" transform="translate(52 28)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>

              <g id="grp2" opacity="0" transform="translate(44 6)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>

              <g id="grp5" opacity="0" transform="translate(14 50)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>

              <g id="grp4" opacity="0" transform="translate(35 50)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>

              <g id="grp1" opacity="0" transform="translate(24)">
                <path id="oval1"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
                <path id="oval2"
                  d="M5.208,1.332,6.279,3.5a.511.511,0,0,0,.385.28l2.4.348A.511.511,0,0,1,9.343,5L7.61,6.692a.511.511,0,0,0-.147.453l.409,2.386a.512.512,0,0,1-.742.539L4.987,8.944a.512.512,0,0,0-.476,0L2.369,10.07a.512.512,0,0,1-.742-.539l.409-2.386a.511.511,0,0,0-.147-.453L.156,5A.511.511,0,0,1,.439,4.13l2.4-.348A.511.511,0,0,0,3.22,3.5L4.291,1.332A.511.511,0,0,1,5.208,1.332Z"
                  fill=currentColor />
              </g>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <script>
    let chains = [
      "123456789",
      "258456",
      "78963", "74123", "14789", "12369",
      "369", "258", "147",
      "789", "456", "123"
    ]

    let array = [false, false, false, false, false, false, false, false, false]

    document.querySelectorAll(".bingo-item").forEach(function (item) {
      item.addEventListener("click", open)
    })

    function open(event) {
      const element = event.target.closest(".bingo-item")
      if (element.classList.contains("active")) return
      element.classList.add("active")
      const number = element.dataset.number
      array[number - 1] = true;
      addNotif(element)
      checkBingo(number)
    }

    function checkBingo(number) {
      for (const item of chains) {
        if (item.indexOf(number) < 0) continue
        const itemIndex = chains.indexOf(item)
        const indices = item.split("")
        let bingo = true;
        for (const index of indices) {
          if (!array[index - 1]) {
            bingo = false;
            break
          }
        }

        if (bingo) {
          chains.splice(itemIndex, 1)
          showChainFX(indices)
          showBingo(2000 + indices.length * 150)
          break
        }
      }
    }

    function addNotif() {
      const parent = document.querySelector(".board-header");
      const notif = document.querySelector(".board-notif");
      const badge = document.querySelector(".board-notif-badge");
      const notif2 = notif.cloneNode(true);
      const badge2 = badge.cloneNode(true);
      notif2.style.display = "flex";
      badge2.style.display = "flex";
      parent.removeChild(notif);
      parent.removeChild(badge);
      parent.appendChild(notif2);
      parent.appendChild(badge2);
    }

    function showChainFX(indices) {
      document.querySelector(".app").classList.add("prevent")
      let i = 0;
      for (const index of indices) {
        const elementClassList = document.querySelector(`[data-number="${index}"]`).classList
        setTimeout(function () {
          elementClassList.add("chained")
        }, 1000 + 150 * (i + 1))
        setTimeout(function () {
          elementClassList.remove("chained")
        }, 1500 + 150 * indices.length)
        i++;
      }
    }

    function showBingo(delay) {
      setTimeout(function () {
        document.querySelector(".bingo").style.display = "block";
        document.querySelector(".bingo-bg").style.display = "block";

        setTimeout(function () {
          document.querySelector(".svg").classList.add("active")
        }, 750)
      }, delay)
    }

    function hideBingo() {
      document.querySelector(".bingo").style.display = "none";
      document.querySelector(".bingo-bg").style.display = "none";
      document.querySelector(".app").classList.remove("prevent")
    }
  </script>
</body>

</html>